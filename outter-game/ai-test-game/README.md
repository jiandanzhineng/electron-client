# AI功能测试游戏

## 概述

AI功能测试游戏是一个专门用于测试语音识别和LLM对话功能的测试工具。通过直观的界面，开发者和用户可以验证AI服务的可用性和性能。

## 功能特性

### 🎤 语音识别测试
- 支持实时录音
- 调用语音识别API将音频转换为文字
- 显示识别结果和耗时
- 支持自定义超时时间

### 💬 LLM对话测试
- 文本输入界面
- 调用LLM API进行对话
- 支持多种模型选择
- 可配置生成参数（温度、最大Token等）

### 🔄 组合测试
- 语音识别 + LLM对话的完整流程测试
- 先录音转文字，再将结果发送给LLM

### 📊 测试记录
- 详细的测试历史记录
- 包含输入、输出、耗时和错误信息
- 支持清空记录功能

## 配置参数

| 参数名 | 类型 | 默认值 | 说明 |
|--------|------|--------|------|
| sttTimeout | 数字 | 30000 | 语音识别超时时间（毫秒） |
| llmTimeout | 数字 | 30000 | LLM调用超时时间（毫秒） |
| llmModel | 选择 | Qwen/Qwen2.5-7B-Instruct | LLM模型选择 |
| maxTokens | 数字 | 1000 | 最大Token数量 |
| temperature | 数字 | 0.7 | 生成温度参数 |

## 使用方法

### 1. 语音识别测试
1. 点击"🎤 开始录音"按钮
2. 对着麦克风说话
3. 点击"⏹️ 停止录音"按钮
4. 等待识别结果显示

### 2. LLM对话测试
1. 在文本框中输入要发送的消息
2. 点击"📤 发送给LLM"按钮
3. 等待LLM响应显示

### 3. 组合测试
1. 点击"🎯 语音转文字 + LLM对话"按钮
2. 按照提示进行录音
3. 系统会自动将识别结果发送给LLM

## 技术实现

### API调用
游戏通过以下IPC接口与主进程通信：

- `game-speech-to-text`: 语音识别接口
- `game-chat-llm`: LLM对话接口

### 超时机制
所有API调用都包含超时机制，防止长时间等待导致界面卡死。

### 错误处理
完善的错误处理机制，包括：
- 网络连接错误
- API调用超时
- 音频录制失败
- 权限不足等

## 注意事项

1. **麦克风权限**: 首次使用需要授权麦克风访问权限
2. **网络连接**: 需要稳定的网络连接访问AI服务
3. **API配置**: 确保在设置中正确配置了API Token
4. **浏览器兼容**: 建议使用现代浏览器，支持MediaRecorder API

## 故障排除

### 语音识别失败
- 检查麦克风权限
- 确认网络连接
- 验证API Token配置
- 检查音频格式支持

### LLM调用失败
- 检查API Token有效性
- 确认模型可用性
- 检查网络连接
- 验证输入内容格式

### 超时问题
- 增加超时时间设置
- 检查网络延迟
- 尝试更换网络环境

## 开发说明

本游戏遵循标准的游戏开发框架：
- 实现了标准的游戏生命周期方法
- 支持参数配置和UI渲染
- 包含完整的错误处理和日志记录
- 可作为其他AI功能游戏的开发参考

## 版本历史

- v1.0.0: 初始版本，支持基础的语音识别和LLM对话测试功能