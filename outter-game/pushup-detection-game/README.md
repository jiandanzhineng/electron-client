# 俯卧撑检测训练游戏

一个基于距离传感器的俯卧撑训练游戏，通过QTZ距离传感器检测俯卧撑动作完成情况，结合自动锁、电击和跳蛋设备进行训练激励和惩罚机制。

## 游戏概述

### 游戏目标
- 在设定时间内完成指定数量的俯卧撑
- 保持标准的俯卧撑动作姿势
- 通过设备反馈提升训练效果和专注度

### 游戏机制
1. **游戏开始**：自动锁设备锁定，开始计时和动作检测
2. **动作检测**：QTZ距离传感器实时监控身体高度变化
3. **完成判定**：身体下降到设定距离以下视为"下"，上升到设定距离以上视为"起"
4. **惩罚机制**：长时间无动作触发随机强度和时长的电击惩罚
5. **奖励干扰**：连续完成指定数量后，每完成一个都有概率触发跳蛋干扰
6. **状态重置**：被惩罚后连续完成数量归零，重新开始奖励判定
7. **游戏结束**：达到目标次数或时间结束后自动解锁

## 设备要求

### 设备配置

| 设备类型 | 逻辑ID | 设备名称 | 是否必需 | 作用 |
|---------|--------|----------|----------|------|
| QTZ | distance_sensor | QTZ距离传感器 | 是 | 检测身体高度变化，判定俯卧撑动作 |
| ZIDONGSUO | auto_lock | 自动锁 | 否 | 游戏开始时锁定，完成或超时后解锁 |
| DIANJI | shock_device | 电击设备 | 否 | 长时间无动作时执行惩罚 |
| TD01 | vibrator_device | 跳蛋设备 | 否 | 连续完成动作后随机干扰 |



## 游戏参数配置

### 基础参数

| 参数名 | 类型 | 范围 | 默认值 | 说明 |
|--------|------|------|--------|------|
| duration | 数字 | 1-240分钟 | 15分钟 | 游戏持续时间 |
| targetCount | 数字 | 1-2000个 | 30个 | 目标俯卧撑完成数量 |
| downThreshold | 数字 | 5-30厘米 | 15厘米 | 身体下降到此距离以下视为"下" |
| upThreshold | 数字 | 20-50厘米 | 35厘米 | 身体上升到此距离以上视为"起" |

### 惩罚机制参数

| 参数名 | 类型 | 范围 | 默认值 | 说明 |
|--------|------|------|--------|------|
| idleTimeLimit | 数字 | 10-120秒 | 30秒 | 无动作超过此时间触发惩罚 |
| shockIntensity | 数字 | 10-100V | 15V | 电击强度基础值 |
| shockDuration | 数字 | 1-10秒 | 3秒 | 电击持续时间基础值 |
| randomIntensityRange | 数字 | 0-50V | 10V | 随机电击强度幅度（±此值） |
| randomDurationRange | 数字 | 0-5秒 | 1秒 | 随机持续时间幅度（±此值） |

### 奖励干扰参数

| 参数名 | 类型 | 范围 | 默认值 | 说明 |
|--------|------|------|--------|------|
| rewardTriggerCount | 数字 | 3-20个 | 5个 | 连续完成多少个后开始奖励触发判定 |
| rewardTriggerProbability | 数字 | 0-100% | 30% | 达到触发条件后每完成一个的干扰触发概率 |
| vibratorIntensity | 数字 | 1-255 | 100 | 跳蛋强度 |
| vibratorDuration | 数字 | 5-60秒 | 15秒 | 跳蛋工作时间 |

## 游戏界面说明

### 主界面元素
- **剩余时间**：显示游戏剩余时间
- **完成进度**：当前完成数量/目标数量
- **动作状态**：显示当前动作阶段（下/起）
- **锁定状态**：显示自动锁的当前状态
- **设备状态**：显示各设备的工作状态

## 开发信息

### 版本历史
- v1.0.0：基础功能实现