# 女仆偷懒惩罚游戏

一个基于硬件设备的踮脚站立惩罚训练游戏，要求目标对象保持踮脚站立姿势，避免脚后跟压下按钮触发电击惩罚。

## 游戏概述

### 游戏目标
- 在设定的时间内保持踮脚站立
- 避免脚后跟接触地面或压下QTZ设备按钮
- 培养专注力和自律性

### 游戏机制
1. **游戏开始**：自动锁设备锁定，开始计时
2. **监控阶段**：QTZ设备实时监控脚后跟位置
3. **惩罚机制**：脚后跟压下按钮超过宽限时间触发电击
4. **游戏结束**：时间到达后自动解锁设备

## 设备要求

### 必需设备

| 设备类型 | 逻辑ID | 设备名称 | 作用 |
|---------|--------|----------|------|
| ZIDONGSUO | auto_lock | 自动锁 | 游戏开始时锁定，结束时解锁 |
| DIANJI | shock_device | 电击设备 | 执行电击惩罚 |
| QTZ | qtz_sensor | QTZ激光测距传感器 | 检测脚后跟按钮状态 |

### 设备安装说明

#### QTZ设备安装
- 将QTZ设备放置在脚后跟位置
- 可以穿拖鞋，将设备放在鞋后面
- 确保按钮能够被脚后跟准确触发
- 设备应稳固放置，避免误触发

#### 电击设备安装
- 按照设备说明书正确连接
- 确保电极接触良好
- 检查电压设置是否在安全范围内

#### 自动锁安装
- 确保锁定机制正常工作
- 测试开锁和关锁功能
- 确保紧急情况下可以手动解锁

## 游戏参数配置

### 基础参数

| 参数名 | 类型 | 范围 | 默认值 | 说明 |
|--------|------|------|--------|------|
| duration | 数字 | 5-180分钟 | 30分钟 | 游戏持续时间 |
| shockIntensity | 数字 | 10-100 | 60 | 电击强度 |
| shockDuration | 数字 | 1-10秒 | 3秒 | 电击持续时间 |
| gracePeriod | 数字 | 0-10秒 | 2秒 | 脚后跟压下后的宽限时间 |
| shockCooldown | 数字 | 5-60秒 | 10秒 | 两次电击间的冷却时间 |

### 高级参数

| 参数名 | 类型 | 默认值 | 说明 |
|--------|------|--------|------|
| progressiveIntensity | 布尔 | true | 是否启用渐进式强度增加 |
| maxIntensityIncrease | 数字 | 20 | 最大强度增幅值 |

## 安全注意事项

### ⚠️ 重要警告
- 此游戏涉及电击设备，使用前请确保了解相关风险
- 请在安全的环境中进行，确保有人监督
- 如有心脏病、癫痫等疾病，请勿使用
- 电击强度请从低开始逐渐调整
- 游戏过程中如有不适，请立即停止

### 安全功能
- **紧急停止**：界面提供紧急停止按钮
- **冷却保护**：防止过于频繁的电击
- **强度限制**：电击强度有上限保护
- **时间限制**：游戏有最大时长限制

## 使用指南

### 游戏准备
1. 确保所有设备正常连接并测试
2. 调整游戏参数至合适值
3. 穿着合适的服装和鞋子
4. 确保游戏环境安全

### 游戏开始
1. 在游戏配置界面选择"女仆偷懒惩罚游戏"
2. 配置设备映射和游戏参数
3. 点击开始游戏
4. 游戏开始后保持踮脚站立姿势

### 游戏过程
- **正常状态**：保持踮脚，脚后跟不接触按钮
- **警告状态**：脚后跟压下按钮，有宽限时间调整
- **惩罚状态**：超过宽限时间，执行电击惩罚
- **结束状态**：时间到达，自动解锁并显示统计

## 游戏界面说明

### 主界面元素
- **剩余时间**：显示游戏剩余时间
- **电击次数**：累计电击惩罚次数
- **违规次数**：脚后跟压下按钮的总次数
- **锁定状态**：显示自动锁的当前状态
- **进度条**：显示游戏整体进度

### 状态提示
- **绿色**：正常状态
- **黄色**：警告状态
- **红色**：惩罚状态或错误状态

## 技术实现

### 设备通信
- 使用MQTT协议与硬件设备通信
- 支持设备状态监听和属性设置
- 实现设备事件的实时响应

### 游戏逻辑
- 基于事件驱动的游戏状态管理
- 支持参数化配置和实时调整
- 提供完整的日志记录和状态追踪

### 用户界面
- 响应式设计，适配不同屏幕尺寸
- 实时状态更新和可视化反馈
- 直观的操作界面和状态指示

## 故障排除

### 常见问题

#### 设备连接问题
- **问题**：设备无法连接或响应
- **解决**：检查设备电源、网络连接和MQTT配置

#### 按钮误触发
- **问题**：QTZ设备按钮频繁误触发
- **解决**：调整设备位置，检查安装是否稳固

#### 电击强度问题
- **问题**：电击强度过强或过弱
- **解决**：调整shockIntensity参数，从低强度开始测试

#### 游戏无法结束
- **问题**：游戏时间到了但未自动结束
- **解决**：使用紧急停止按钮，检查设备状态

### 日志查看
- 游戏运行过程中会产生详细日志
- 可在日志查看器中查看设备通信和游戏状态
- 日志级别包括：info、warning、error、debug

## 开发信息

### 文件结构
```
maid-punishment-game/
├── maid-punishment-game.js    # 主游戏逻辑文件
└── README.md                  # 说明文档（本文件）
```

### 版本信息
- **版本**：1.0.0
- **作者**：游戏设计师
- **创建日期**：2024年
- **最后更新**：2024年

### 依赖要求
- Electron客户端环境
- MQTT设备管理器
- 支持的硬件设备（ZIDONGSUO、DIANJI、QTZ）

## 许可证

本游戏仅供学习和研究使用，使用者需自行承担使用风险。

---

**免责声明**：本游戏涉及电击设备，使用前请充分了解相关风险。开发者不对因使用本游戏造成的任何损害承担责任。请在专业人士指导下安全使用。